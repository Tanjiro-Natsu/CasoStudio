package main;

import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.image.BufferedImage;
import java.io.ByteArrayInputStream;
import java.io.File;
import java.io.IOException;

import javax.imageio.ImageIO;
import javax.swing.JLabel;
import javax.swing.JMenu;
import javax.swing.JMenuBar;
import javax.swing.JMenuItem;

public class ImageMenu extends JMenuBar{
	private JMenuItem BiancoNero;
	private JMenuItem Red;
	private JMenuItem Green;
	private  JMenuItem Blue;
	private  JMenuItem Standard;
	private  JMenuItem Orange;
	private BufferedImage image;
	private BufferedImage image1;
	private int height;
	private int width;
	private JMenu Color;
	private  int vai=0;
	private String v;
	public int getvai() {return vai;}
	public void set() {vai=1;}
	public  ImageMenu(BufferedImage dd,String v1,byte [] ok) {
			image=dd;
			image1=dd;
			v=v1;
		height=image.getHeight();
		width=image.getWidth();
		Color =new JMenu("Color");
		BiancoNero=new JMenuItem("BiancoNero");
		Red=new JMenuItem("Rosso");
		Green=new JMenuItem("Verde");
		Blue=new JMenuItem("Blu");
		Orange=new JMenuItem("Orange");
		Standard=new JMenuItem("Standard");
		Color.add(BiancoNero);
		Color.add(Red);
		Color.add(Green);
		Color.add(Blue);
		Color.add(Orange);
		Color.add(Standard);
		final byte []ok1 =ok;
		BiancoNero.addActionListener(new ActionListener() {public void actionPerformed(ActionEvent e) {FileChooser.setJLabel(Color(height,width,ok1,"BiancoNero"),"BiancoNero.jpg");}});
		Red.addActionListener(new ActionListener() {public void actionPerformed(ActionEvent e) {FileChooser.setJLabel(Color(height,width,ok1,"Red"),"Red.jpg");}});
		Green.addActionListener(new ActionListener() {public void actionPerformed(ActionEvent e) {FileChooser.setJLabel(Color(height,width,ok1,"Green"),"Green.jpg");}});
		Blue.addActionListener(new ActionListener() {public void actionPerformed(ActionEvent e) {FileChooser.setJLabel(Color(height,width,ok1,"Blue"),"Blue.jpg");}});
		Standard.addActionListener(new ActionListener() {public void actionPerformed(ActionEvent e) {set();FileChooser.reset(v);}});
		Orange.addActionListener(new ActionListener() {public void actionPerformed(ActionEvent e) {FileChooser.setJLabel(Color(height,width,ok1,"Orange"),"Orange.jpg");}});

		add(Color);
	}
	public BufferedImage Color(int height1,int width1,byte [] ok,String s) {
		 ByteArrayInputStream bis = new ByteArrayInputStream(ok);
		 BufferedImage imgB=null;
		try {
			imgB = ImageIO.read(bis);}
		catch(Exception e) {}
		
		if(s.equalsIgnoreCase("Red")){
			for(int i=0;i<height1;i++) {
				for(int t=0;t<width;t++) {
					int rgbA=imgB.getRGB(t, i);
					imgB.setRGB(t, i,rgbA & 0xff0000);//blu =(rgbA>>16) & 0xff
				}
		}}
		if(s.equalsIgnoreCase("Orange")){
			for(int i=0;i<height1;i++) {
				for(int t=0;t<width;t++) {
					int rgbA=imgB.getRGB(t, i);
					imgB.setRGB(t, i,rgbA & 0xff8000);//blu =(rgbA>>16) & 0xff
				}
		}}
		if(s.equalsIgnoreCase("Green")){
			for(int i=0;i<height1;i++) {
				for(int t=0;t<width;t++) {
					int rgbA=imgB.getRGB(t, i);
					imgB.setRGB(t, i,rgbA & 0x00CC00);//blu =(rgbA>>16) & 0xff
				}
		}
		}
		if(s.equalsIgnoreCase("Blue")){
			for(int i=0;i<height1;i++) {
				for(int t=0;t<width;t++) {
					int rgbA=imgB.getRGB(t, i);
					imgB.setRGB(t, i,rgbA & 0x0000CC);//blu =(rgbA>>16) & 0xff
				}
		}
		}
		if(s.equalsIgnoreCase("BiancoNero")){
			for(int i=0;i<height1;i++) {
				for(int t=0;t<width;t++) {
					int rgbA=imgB.getRGB(t, i);
					imgB.setRGB(t, i,rgbA & 0x808080);//blu =(rgbA>>16) & 0xff
				}
		}
		}
		return imgB;	
	}

}
